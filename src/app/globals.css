@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom animations for modals */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-fadeIn {
  animation: fadeIn 0.2s ease-out;
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out;
}

/* Offcanvas animations and improvements */
.offcanvas-content {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
}

/* Prevent body scroll when offcanvas is open */
body.offcanvas-open {
  overflow: hidden !important; /* This will still disable scroll when needed */
  position: fixed !important;
  width: 100% !important;
}

/* Enhanced backdrop blur for modern browsers */
@supports (backdrop-filter: blur(8px)) {
  .backdrop-blur-sm {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
}

/* Smooth spring animation for offcanvas */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0.8;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideInLeft {
  from {
    transform: translateX(-100%);
    opacity: 0.8;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Add subtle bounce effect on open */
@keyframes bounceIn {
  0% {
    transform: scale(0.95);
    opacity: 0;
  }
  70% {
    transform: scale(1.02);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Offcanvas content animation */
.offcanvas-content > * {
  animation: fadeIn 0.4s ease-out 0.2s both;
}

  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
    width: 0px;
    height: 0px;
    display: none;  /* Chrome, Safari and Opera */
  }
  
  /* Keep scrolling functional but hide thumb track visually */
  .scrollbar-hide {
    scrollbar-color: transparent transparent;
  }
  

/* Hide scrollbar for IE, Edge and Firefox */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    
    /* Custom theme properties for dynamic theming */
    --sidebar-bg: #1a1b2e;
    --sidebar-text: #ffffff;
    --sidebar-text-secondary: rgba(255, 255, 255, 0.7);
    --sidebar-bg-hover: rgba(255, 255, 255, 0.1);
    --sidebar-active: var(--primary-color);
    --primary-color: #22c55e;
    
    /* Card light mode styles */
    --card-bg: #ffffff;
    --card-border: #e2e8f0;
    --card-text: #1e293b;
    
    /* Popover styles */
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
  }

  .dark {
    --background: 222 47% 11%;
    --foreground: 0 0% 98%;
    
    /* Dark mode overrides */
    --sidebar-bg: #0f1419;
    --sidebar-text: #ffffff;
    --sidebar-text-secondary: rgba(255, 255, 255, 0.7);
    --sidebar-bg-hover: rgba(255, 255, 255, 0.1);
    --sidebar-active: var(--primary-color);
    
    /* Card dark mode styles */
    --card-bg: #374151;
    --card-border: #4b5563;
    --card-text: #f9fafb;
    
    /* Popover dark mode styles */
    --popover: 222 47% 11%;
    --popover-foreground: 0 0% 98%;
  }
  
  html {
    @apply scroll-smooth;
  }
  
  body {
    @apply bg-background text-foreground transition-colors duration-300 overflow-x-hidden overflow-y-auto;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }
  
  /* Hide scrollbar utility classes */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Toast animations */
  @keyframes slide-in {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-out {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(100%);
      opacity: 0;
    }
  }

  .animate-slide-in {
    animation: slide-in 0.3s ease-out;
  }

  .animate-slide-out {
    animation: slide-out 0.3s ease-in;
  }
  
  /* Hide scrollbar for horizontal scroll containers */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
  
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
  }
  
  /* Hide sidebar scrollbar completely */
  .sidebar-scroll::-webkit-scrollbar {
    width: 0;
    display: none;
  }
  
  /* Hide scrollbar for horizontal scroll but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
  
  /* Firefox - hide scrollbar */
  .sidebar-scroll {
    scrollbar-width: none;
    -ms-overflow-style: none; /* IE and Edge */
  }
  
  /* Hide dashboard scrollbar completely */
  .dashboard-scroll::-webkit-scrollbar {
    width: 0;
    display: none;
  }
  
  /* Firefox - hide scrollbar */
  .dashboard-scroll {
    scrollbar-width: none;
    -ms-overflow-style: none; /* IE and Edge */
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  /* Sidebar utility classes */
  .text-sidebar-text {
    color: var(--sidebar-text);
  }
  
  .text-sidebar-textSecondary {
    color: var(--sidebar-text-secondary);
  }
  
  .bg-sidebar-bgHover {
    background-color: var(--sidebar-bg-hover);
  }
  
  .bg-sidebar-active {
    background-color: var(--sidebar-active);
  }
  
  /* Dynamic primary color utilities */
  .bg-primary-50 {
    background-color: color-mix(in srgb, var(--primary-color) 10%, white);
  }
  
  .bg-primary-100 {
    background-color: color-mix(in srgb, var(--primary-color) 20%, white);
  }
  
  .bg-primary-500 {
    background-color: var(--primary-color);
  }
  
  .bg-primary-600 {
    background-color: color-mix(in srgb, var(--primary-color) 100%, black 10%);
  }
  
  .bg-primary-700 {
    background-color: color-mix(in srgb, var(--primary-color) 100%, black 20%);
  }
  
  .bg-primary-900 {
    background-color: color-mix(in srgb, var(--primary-color) 100%, black 60%);
  }
  
  .text-primary-400 {
    color: color-mix(in srgb, var(--primary-color) 80%, white 20%);
  }
  
  .text-primary-500 {
    color: var(--primary-color);
  }
  
  .text-primary-600 {
    color: color-mix(in srgb, var(--primary-color) 100%, black 10%);
  }
  
  .text-primary-700 {
    color: color-mix(in srgb, var(--primary-color) 100%, black 20%);
  }
  
  .border-primary-500 {
    border-color: var(--primary-color);
  }
  
  .ring-primary-500 {
    --tw-ring-color: var(--primary-color);
  }
  
  .ring-primary-600 {
    --tw-ring-color: color-mix(in srgb, var(--primary-color) 100%, black 10%);
  }
  
  /* Focus ring colors */
  .focus\:ring-primary-500:focus {
    --tw-ring-color: var(--primary-color);
  }
  
  .focus\:ring-primary-600:focus {
    --tw-ring-color: color-mix(in srgb, var(--primary-color) 100%, black 10%);
  }
  
  /* Checkbox and form control colors */
  .text-primary-600[type="checkbox"]:checked {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
  }
  
  .dark .focus\:ring-primary-600:focus {
    --tw-ring-color: color-mix(in srgb, var(--primary-color) 80%, white 20%);
  }
  
  /* Dark mode specific colors */
  .dark .bg-primary-900\/20 {
    background-color: color-mix(in srgb, var(--primary-color) 20%, black 80%);
  }
  
  .dark .text-primary-300 {
    color: color-mix(in srgb, var(--primary-color) 60%, white 40%);
  }
  
  .dark .text-primary-400 {
    color: color-mix(in srgb, var(--primary-color) 80%, white 20%);
  }
  
  /* Hover states */
  .hover\:bg-primary-700:hover {
    background-color: color-mix(in srgb, var(--primary-color) 100%, black 20%);
  }
  
  .hover\:text-primary-700:hover {
    color: color-mix(in srgb, var(--primary-color) 100%, black 20%);
  }
  
  .hover\:text-primary-300:hover {
    color: color-mix(in srgb, var(--primary-color) 60%, white 40%);
  }
  
  /* Animation classes */
  .animate-in {
    animation: animateIn 0.3s ease-out;
  }
  
  @keyframes animateIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}